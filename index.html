<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zarr Folder Validator</title>
    <link rel="stylesheet" href="src/css/styles.css" />
  </head>
  <body>
    <div class="container">
      <a
        href="https://github.com/tlambert03/geff-js-validator"
        target="_blank"
        rel="noopener"
        aria-label="GitHub Repository"
        style="
          position: absolute;
          top: 18px;
          right: 18px;
          z-index: 1000;
          text-decoration: none;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <svg
          height="28"
          width="28"
          viewBox="0 0 16 16"
          fill="currentColor"
          style="
            vertical-align: middle;
            color: #24292f;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
            padding: 2px;
          "
        >
          <path
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"
          ></path>
        </svg>
        <span style="font-size: 11px; color: #888; margin-top: 2px;">source code</span>
      </a>
      <header>
        <h1>Zarr Folder Validator</h1>
        <p>Drop a zarr folder to validate and analyze its structure</p>
      </header>

      <main>
        <div id="dropzone" class="dropzone">
          <div class="dropzone-content">
            <div class="dropzone-icon">üìÅ</div>
            <h3>Drop Zarr Folder Here</h3>
            <p>Drag and drop a zarr folder to begin validation</p>
            <button id="browse-btn" class="browse-btn">Or browse files</button>
            <input
              type="file"
              id="file-input"
              webkitdirectory
              multiple
              style="display: none"
            />
          </div>
        </div>

        <div id="results" class="results hidden">
          <div class="results-header">
            <h2>Validation Results</h2>
            <button id="clear-btn" class="clear-btn">Clear</button>
          </div>

          <div class="status-section">
            <div id="validation-status" class="status-card">
              <h3>Validation Status</h3>
              <div id="status-indicator" class="status-indicator"></div>
              <div id="status-message" class="status-message"></div>
            </div>
          </div>

          <div class="info-section">
            <div class="info-card">
              <h3>Folder Information</h3>
              <div id="folder-info">
                <div class="info-item">
                  <span class="info-label">Folder Name:</span>
                  <span id="folder-name" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Total Files:</span>
                  <span id="file-count" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Total Size:</span>
                  <span id="folder-size" class="info-value"></span>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h3>Zarr Structure</h3>
              <div id="zarr-info">
                <div class="info-item">
                  <span class="info-label">Format Version:</span>
                  <span id="zarr-version" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Arrays Found:</span>
                  <span id="array-count" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Groups Found:</span>
                  <span id="group-count" class="info-value"></span>
                </div>
              </div>
            </div>

            <div class="info-card">
              <h3>GEFF Validation</h3>
              <div id="geff-info">
                <div class="info-item">
                  <span class="info-label">GEFF Folders:</span>
                  <span id="geff-folders" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">Valid Folders:</span>
                  <span id="valid-geff-folders" class="info-value"></span>
                </div>
                <div class="info-item">
                  <span class="info-label">GEFF Version:</span>
                  <span id="geff-version" class="info-value"></span>
                </div>
              </div>
            </div>
          </div>

          <div
            id="geff-details"
            class="geff-details-section"
            style="display: none"
          >
            <div class="details-card">
              <h3>GEFF Validation Details</h3>
              <div
                id="geff-validation-details"
                class="geff-validation-details"
              ></div>
            </div>
          </div>

          <div class="details-section">
            <div class="details-card">
              <h3>File Structure</h3>
              <div id="file-tree" class="file-tree"></div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="src/js/main.js"></script>
  </body>
</html>
